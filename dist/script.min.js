"use strict";function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,o=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){function n(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,t)})(t)}function _construct(t,e,n){return _construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=Function.bind.apply(t,o),i=new r;return n&&_setPrototypeOf(i,n.prototype),i},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var storeDatafd924={state:{cookieID:"",titleModal:"",priveryModal:"",purposes:[]},loadDataFromPersistence:function(){var t=localStorage.getItem("storeDatafd924");if(!t)return{emptyData:!0};var e=JSON.parse(t);return e?{emptyData:!1,data:e}:{emptyData:!0}},mapperStateAllow:function(t,e){return e.map(function(e){var n=t.find(function(t){return t.id===e.id});return n&&(e.hasAllow=n.hasAllow),e})},createNewState:function(t,e){return{purposes:storeDatafd924.mapperStateAllow(t,e)}},setInitState:function(t){storeDatafd924.state.titleModal=t.titleModal,storeDatafd924.state.priveryModal=t.priveryModal,storeDatafd924.state.purposes=t.purposes;var e=storeDatafd924.loadDataFromPersistence();if(!e.emptyData){var n=storeDatafd924.createNewState(e.data.purposes,t.purposes);storeDatafd924.state.purposes=n.purposes}},saveState:function(){localStorage.setItem("storeDatafd924",JSON.stringify({purposes:storeDatafd924.state.purposes,cookieID:storeDatafd924.state.cookieID}))}},CSent={inititail:function(t){CSent.regsiterComponents(),storeDatafd924.setInitState(t),CSent.hasCookie(document.cookie)?CSent.renderIconCookieConnset():CSent.renderFooterPrivacy(t)},renderIconCookieConnset:function(t){var e=document.createElement(iconCookieCosent);document.getElementsByTagName("body")[0].append(e)},renderFooterPrivacy:function(t){var e=document.createElement(footerPrivacy);e.setAttribute("moreUrl",t.link||""),e.setAttribute("textPrivary",t.text||""),e.setAttribute("webkit",t.webkit||""),document.getElementsByTagName("body")[0].append(e)},regsiterComponents:function(){for(var t=[{tag:footerPrivacy,value:FooterPrivacy},{tag:purpostBox,value:PurpostBox},{tag:purpostItem,value:PurpostItem},{tag:cookieConsent,value:CookieCosent},{tag:iconCookieCosent,value:IconCookieCosent}],e=0,n=t;e<n.length;e++){var o=n[e];customElements.get(o.tag)||customElements.define(o.tag,o.value)}},hasCookie:function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var r=n[o];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""}},footerPrivacy="fd924-footer-privacy",FooterPrivacy=function(t){function e(){var t;_classCallCheck(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=n.call.apply(n,[this].concat(r)),_defineProperty(_assertThisInitialized(t),"state",_defineProperty({text:"",link:"",webkit:"",confirm:"",urlMoreCookie:"",textPrivary:""},"webkit","")),t}_inherits(e,t);var n=_createSuper(e);return _createClass(e,[{key:"connectedCallback",value:function(t){this.initValue(),this.renderHtml(),this.registerEvent()}},{key:"renderHtml",value:function(){this.innerHTML='\n      <div id="cokiepop" class="fd924-footer-privacy">\n      <div class="fd924-footer-wrapper">\n        <div class="fd924-left-box"> \n          '.concat(this.state.textPrivary,'\n        </div>\n\n        <div class="fd924-right-box">\n          <a  href="#" class="fd924-setting">ตั้งค่า</a>\n          <div id="btnconfirm" class="fd924-footer-btnconfirm">\n            <span>ตกลง</span>\n          </div>\n        </div>\n      </div>\n      </div>\n\t\t')}},{key:"registerEvent",value:function(){this.querySelector("#btnconfirm").addEventListener("click",this.onAccept.bind(this)),this.querySelector(".fd924-setting").addEventListener("click",this.onSetting.bind(this))}},{key:"onSetting",value:function(t){t.preventDefault();var e=document.createElement(cookieConsent);document.getElementsByTagName("body")[0].append(e)}},{key:"initValue",value:function(){this.state.urlMoreCookie=this.getAttribute("moreurl"),this.state.textPrivary=this.getAttribute("textPrivary")}},{key:"onAccept",value:function(){try{var t=new Date,e=window.navigator.language+"  "+window.navigator.platform;t.setTime(t.getTime()+31536e6);var n="expires="+t.toUTCString();document.cookie="CONSENT="+e+";"+n+";path=/",document.getElementById("cokiepop").remove();var o=document.createElement(iconCookieCosent);document.getElementsByTagName("body")[0].append(o)}catch(t){console.log(t)}}}]),e}(_wrapNativeSuper(HTMLElement)),purpostItem="fd924-purpost-item",PurpostItem=function(t){function e(){var t;_classCallCheck(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=n.call.apply(n,[this].concat(r)),_defineProperty(_assertThisInitialized(t),"state",{index:0,title:"",description:"",hasExpland:!1,hasAccept:!1}),t}_inherits(e,t);var n=_createSuper(e);return _createClass(e,[{key:"connectedCallback",value:function(t){this.initValue(),this.renderHtml(),this.registerEvent()}},{key:"renderHtml",value:function(){this.innerHTML='\n\t\t\t\t<div class="fd924-purpose-box-item">\n\t\t\t\t\t<div class="fd924-purpose-box-header">\n\t\t\t\t\t\t<div class="fd924-area-explad"></div>\n\t\t\t\t\t\t<div class="fd924-purpose-left-box">\n            <div class="fd924-pupose-expand"><span></span><span></span></div>\n\t\t\t\t\t\t\t<p class="fd924-tilte fd924-text-title-card">'.concat(storeDatafd924.state.purposes[this.state.index].title,'</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="fd924-purpose-right-box">\n\t\t\t\t\t\t\t<label class="fd924-switch">\n\t\t\t\t\t\t\t<input type="checkbox" ').concat(storeDatafd924.state.purposes[this.state.index].hasAllow?"checked":"",' >\t\n\t\t\t\t\t\t\t<span class="fd924-slider round"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="fd924-detail fd924-text-detail has-close-detail">\n\t\t\t\t\t\t').concat(storeDatafd924.state.purposes[this.state.index].description,"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t")}},{key:"initValue",value:function(t){this.state.index=this.getAttribute("data-index");storeDatafd924.state.purposes[this.state.index]}},{key:"onRejectAll",value:function(){this.querySelector("input").checked=!1}},{key:"onConfirmAll",value:function(){this.querySelector("input").checked=!0}},{key:"onToggleExpand",value:function(){this.state.hasExpland=!this.state.hasExpland;var t=this.querySelector(".fd924-detail"),e=this.querySelector(".fd924-pupose-expand");this.state.hasExpland?(t.style["margin-top"]="18px",t.classList.add("has-open-deatail"),t.classList.remove("has-close-detail"),e.classList.add("subtract")):(t.classList.remove("has-open-deatail"),t.classList.add("has-close-detail"),e.classList.remove("subtract"),setTimeout(function(){t.style["margin-top"]="0"},200))}},{key:"registerEvent",value:function(){var t=this;this.querySelector("input").addEventListener("click",function(e){t.state.hasAccept=e.target.checked,storeDatafd924.saveState()}),this.querySelector(".fd924-area-explad").addEventListener("click",this.onToggleExpand.bind(this)),document.addEventListener("onEventRejectAll",this.onRejectAll.bind(this)),document.addEventListener("onEventConfirmAll",this.onConfirmAll.bind(this))}}]),e}(_wrapNativeSuper(HTMLElement)),purpostBox="fd924-purpost-box",PurpostBox=function(t){function e(){var t;_classCallCheck(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=n.call.apply(n,[this].concat(r)),_defineProperty(_assertThisInitialized(t),"state",{title:""}),t}_inherits(e,t);var n=_createSuper(e);return _createClass(e,[{key:"connectedCallback",value:function(){this.initValue(),this.renderHtml()}},{key:"renderHtml",value:function(){this.innerHTML='\n\t\t<div class="fd924-purpost-box">\n\t\t\t<div class="fd924-purpose-box-title ">\n\t\t\t\t<p class="fd924-text-privacy-text">'.concat(this.state.title,'</p>\n\t\t\t</div>\n\t\t\t<div class="fd924-purpose-box-list">\n\t\t\t\t').concat(this.renderContent(),"\n\t\t\t</div>\n\t\t</div>\n\t\t")}},{key:"renderContent",value:function(){for(var t="",e=0;e<storeDatafd924.state.purposes.length;e++)t+="<fd924-purpost-item data-index=".concat(e," ></fd924-purpost-item>");return t}},{key:"initValue",value:function(t){this.state.title=storeDatafd924.state.priveryModal}}]),e}(_wrapNativeSuper(HTMLElement)),cookieConsent="fd924-cookie-cosent",CookieCosent=function(t){function e(){var t;_classCallCheck(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=n.call.apply(n,[this].concat(r)),_defineProperty(_assertThisInitialized(t),"state",{hasOpen:!0,titleModal:""}),t}_inherits(e,t);var n=_createSuper(e);return _createClass(e,[{key:"connectedCallback",value:function(){this.initValue(),this.renderHtml(),this.registerEvent()}},{key:"initValue",value:function(){this.state.titleModal=storeDatafd924.state.titleModal,this.state.description=this.getAttribute("data-description")}},{key:"renderHtml",value:function(){this.innerHTML='\n\t\t<div class="fd924-cookie-cosent ">\n\t\t\t<div class="fd924-model-cookie fd924-modal">\n\t\t\t\t<div class="fd924-model-content ">\n\t\t\t\t\t<div class="fd924-model-header">\n\t\t\t\t\t\t<p class="fd924-text-title-header">'.concat(this.state.titleModal,'</p>\n\t\t\t\t\t\t<div class="fd924-model-icon-x">\n\t\t\t\t\t\t\t<button type="button" class="btn-close" aria-label="Close"></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="fd924-model-body" >\n\t\t\t\t\t\t<fd924-purpost-box  ></fd924-purpost-box>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="fd924-model-footer">\n\t\t\t\t\t\t\t<div class="fd924-footer-btn">\n\t\t\t\t\t\t\t\t<button class="fd924-btn fd924-btn-left">\n\t\t\t\t\t\t\t\t\tReject All\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button class="fd924-btn fd924-btn-right">\n\t\t\t\t\t\t\t\t\tConfirm My Choices\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="fd924-box-powered-by">\n\t\t\t\t\t\t\t\t<a href="https://www.google.co.th/" >\t\n\t\t\t\t\t\t\t\t\t<span class="fd924-powerd-by">Powered by</span> <span class="fd924-powerd-link">Test<span>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="fd924-bg-overly fd924-modal-background"></div>\n\t\t</div>'),this.querySelector(".fd924-cookie-cosent").classList.add("fd924-anime")}},{key:"onToggleModal",value:function(){var t=this;this.state.hasOpen=!this.state.hasOpen,this.state.hasOpen||(this.querySelector(".fd924-cookie-cosent").classList.add("fd924-out"),setTimeout(function(){t.remove()},500))}},{key:"setStateSwitch",value:function(t){for(var e=0;e<storeDatafd924.state.purposes.length;e++)storeDatafd924.state.purposes[e].hasAllow=t}},{key:"onHandeRejactAll",value:function(){var t=new CustomEvent("onEventRejectAll",{bubbles:!0});document.dispatchEvent(t),this.setStateSwitch(!1),storeDatafd924.saveState()}},{key:"onHandeConfirmAll",value:function(){var t=new CustomEvent("onEventConfirmAll",{bubbles:!0});document.dispatchEvent(t),this.setStateSwitch(!0),storeDatafd924.saveState()}},{key:"registerEvent",value:function(){this.querySelector(".fd924-model-icon-x").addEventListener("click",this.onToggleModal.bind(this)),this.querySelector(".fd924-bg-overly").addEventListener("click",this.onToggleModal.bind(this)),this.querySelector(".fd924-btn-left").addEventListener("click",this.onHandeRejactAll.bind(this)),this.querySelector(".fd924-btn-right").addEventListener("click",this.onHandeConfirmAll.bind(this))}}]),e}(_wrapNativeSuper(HTMLElement)),iconCookieCosent="fd924-icon-cookie",IconCookieCosent=function(t){function e(){return _classCallCheck(this,e),n.apply(this,arguments)}_inherits(e,t);var n=_createSuper(e);return _createClass(e,[{key:"connectedCallback",value:function(){var t=this;this.renderHtml(),this.registerEvent(),setTimeout(function(){var e=t.querySelector(".fd924-icon-cookie");e.classList.contains("fd924-icon-cookie-close")&&(e.classList.remove("fd924-icon-cookie-close"),e.classList.add("fd924-icon-cookie-open"))},10)}},{key:"renderHtml",value:function(){this.innerHTML='\n\t\t<a class="fd924-icon-cookie fd924-icon-cookie-close" href="#">\n\t\t\tIcon\n\t\t</a>'}},{key:"registerEvent",value:function(){this.querySelector(".fd924-icon-cookie").addEventListener("click",function(t){t.preventDefault();var e=document.createElement(cookieConsent);document.getElementsByTagName("body")[0].append(e)})}}]),e}(_wrapNativeSuper(HTMLElement));